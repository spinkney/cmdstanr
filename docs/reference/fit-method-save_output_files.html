<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Save output and data files — fit-method-save_output_files • cmdstanr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Save output and data files — fit-method-save_output_files" />
<meta property="og:description" content="All fitted model objects have methods for saving (moving to a
specified location) the files created by CmdStanR to hold CmdStan output
csv files and input data files. These methods move the files from their
current location (possibly the temporary directory) to a user-specified
location. The paths stored in the fitted model object will also be
updated to point to the new file locations.
The versions without the save_ prefix (e.g., $output_files()) return
the current file paths without moving any files." />
<meta property="og:image" content="https://mc-stan.org/cmdstanr/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cmdstanr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://mc-stan.org/rstan">rstan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstanarm">rstanarm</a>
    </li>
    <li>
      <a href="https://mc-stan.org/bayesplot">bayesplot</a>
    </li>
    <li>
      <a href="https://mc-stan.org/shinystan">shinystan</a>
    </li>
    <li>
      <a href="https://mc-stan.org/loo">loo</a>
    </li>
    <li>
      <a href="https://mc-stan.org/projpred">projpred</a>
    </li>
    <li>
      <a href="https://mc-stan.org/rstantools">rstantools</a>
    </li>
    <li>
      <a href="https://mc-stan.org/posterior">posterior</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://mc-stan.org">Stan</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fas fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/cmdstanr">
    <span class="fas fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://discourse.mc-stan.org/">
    <span class="fas fa-users"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Save output and data files</h1>
    <small class="dont-index">Source: <a href='https://github.com/stan-dev/cmdstanr/blob/master/R/fit.R'><code>R/fit.R</code></a></small>
    <div class="hidden name"><code>fit-method-save_output_files.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>All fitted model objects have methods for saving (moving to a
specified location) the files created by CmdStanR to hold CmdStan output
csv files and input data files. These methods move the files from their
current location (possibly the temporary directory) to a user-specified
location. <strong>The paths stored in the fitted model object will also be
updated to point to the new file locations.</strong></p>
<p>The versions without the <code>save_</code> prefix (e.g., <code>$output_files()</code>) return
the current file paths without moving any files.</p>
    </div>

    <pre class="usage"><span class='fu'>save_output_files</span>(<span class='kw'>dir</span> <span class='kw'>=</span> <span class='st'>"."</span>, <span class='kw'>basename</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>timestamp</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>random</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>save_latent_dynamics_files</span>(
  <span class='kw'>dir</span> <span class='kw'>=</span> <span class='st'>"."</span>,
  <span class='kw'>basename</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>timestamp</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>random</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)

<span class='fu'>save_profile_files</span>(<span class='kw'>dir</span> <span class='kw'>=</span> <span class='st'>"."</span>, <span class='kw'>basename</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>timestamp</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>random</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>save_data_file</span>(<span class='kw'>dir</span> <span class='kw'>=</span> <span class='st'>"."</span>, <span class='kw'>basename</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>timestamp</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>random</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>output_files</span>(<span class='kw'>include_failed</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>profile_files</span>(<span class='kw'>include_failed</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>latent_dynamics_files</span>(<span class='kw'>include_failed</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>data_file</span>()</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dir</th>
      <td><p>(string) Path to directory where the files should be saved.</p></td>
    </tr>
    <tr>
      <th>basename</th>
      <td><p>(string) Base filename to use. See <strong>Details</strong>.</p></td>
    </tr>
    <tr>
      <th>timestamp</th>
      <td><p>(logical) Should a timestamp be added to the file name(s)?
Defaults to <code>TRUE</code>. See <strong>Details</strong>.</p></td>
    </tr>
    <tr>
      <th>random</th>
      <td><p>(logical) Should random alphanumeric characters be added to the
end of the file name(s)? Defaults to <code>TRUE</code>. See <strong>Details</strong>.</p></td>
    </tr>
    <tr>
      <th>include_failed</th>
      <td><p>Should CmdStan runs that failed also be included? The
default is <code>FALSE.</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The <code>$save_*</code> methods print a message with the new file paths and (invisibly)
return a character vector of the new paths (or <code>NA</code> for any that couldn't be
copied). They also have the side effect of setting the internal paths in the
fitted model object to the new paths.</p>
<p>The methods <em>without</em> the <code>save_</code> prefix return character vectors of file
paths without moving any files.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p>For <code>$save_output_files()</code> the files moved to <code>dir</code> will have names of
the form <code>basename-timestamp-id-random</code>, where</p><ul>
<li><p><code>basename</code> is the user's provided <code>basename</code> argument;</p></li>
<li><p><code>timestamp</code> is of the form <code><a href='https://rdrr.io/r/base/format.html'>format(Sys.time(), "%Y%m%d%H%M")</a></code>;</p></li>
<li><p><code>id</code> is the MCMC chain id (or <code>1</code> for non MCMC);</p></li>
<li><p><code>random</code> contains six random alphanumeric characters;</p></li>
</ul>

<p>For <code>$save_latent_dynamics_files()</code> everything is the same as for
<code>$save_output_files()</code> except <code>"-diagnostic-"</code> is included in the new
file name after <code>basename</code>.</p>
<p>For <code>$save_profile_files()</code> everything is the same as for
<code>$save_output_files()</code> except <code>"-profile-"</code> is included in the new
file name after <code>basename</code>.</p>
<p>For <code>$save_data_file()</code> no <code>id</code> is included in the file name because even
with multiple MCMC chains the data file is the same.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='CmdStanMCMC.html'>CmdStanMCMC</a></code>, <code><a href='CmdStanMLE.html'>CmdStanMLE</a></code>, <code><a href='CmdStanVB.html'>CmdStanVB</a></code>, <code><a href='CmdStanGQ.html'>CmdStanGQ</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \dontrun{</span>
<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cmdstanr_example.html'>cmdstanr_example</a></span>()</div><div class='output co'>#&gt; <span class='message'>Model executable is up to date!</span></div><div class='input'><span class='no'>fit</span>$<span class='fu'>output_files</span>()</div><div class='output co'>#&gt; [1] "/var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/logistic-202104151126-1-228c8b.csv"
#&gt; [2] "/var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/logistic-202104151126-2-228c8b.csv"
#&gt; [3] "/var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/logistic-202104151126-3-228c8b.csv"
#&gt; [4] "/var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/logistic-202104151126-4-228c8b.csv"</div><div class='input'><span class='no'>fit</span>$<span class='fu'>data_file</span>()</div><div class='output co'>#&gt; [1] "/Users/jgabry/Documents/Stan/cmdstanr/inst/logistic.data.json"</div><div class='input'>
<span class='co'># just using tempdir for the example</span>
<span class='no'>my_dir</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span>()
<span class='no'>fit</span>$<span class='fu'>save_output_files</span>(<span class='kw'>dir</span> <span class='kw'>=</span> <span class='no'>my_dir</span>, <span class='kw'>basename</span> <span class='kw'>=</span> <span class='st'>"banana"</span>)</div><div class='output co'>#&gt; <span class='message'>Moved 4 files and set internal paths to new locations:</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/banana-202104151126-1-2c9f5d.csv</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/banana-202104151126-2-2c9f5d.csv</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/banana-202104151126-3-2c9f5d.csv</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/banana-202104151126-4-2c9f5d.csv</span></div><div class='input'><span class='no'>fit</span>$<span class='fu'>save_output_files</span>(<span class='kw'>dir</span> <span class='kw'>=</span> <span class='no'>my_dir</span>, <span class='kw'>basename</span> <span class='kw'>=</span> <span class='st'>"tomato"</span>, <span class='kw'>timestamp</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'>Moved 4 files and set internal paths to new locations:</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/tomato-1-41668b.csv</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/tomato-2-41668b.csv</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/tomato-3-41668b.csv</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/tomato-4-41668b.csv</span></div><div class='input'><span class='no'>fit</span>$<span class='fu'>save_output_files</span>(<span class='kw'>dir</span> <span class='kw'>=</span> <span class='no'>my_dir</span>, <span class='kw'>basename</span> <span class='kw'>=</span> <span class='st'>"lettuce"</span>, <span class='kw'>timestamp</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>random</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'>Moved 4 files and set internal paths to new locations:</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/lettuce-1.csv</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/lettuce-2.csv</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/lettuce-3.csv</span>
#&gt; <span class='message'>- /var/folders/h6/14xy_35x4wd2tz542dn0qhtc0000gn/T/RtmpEmZKF5/lettuce-4.csv</span></div><div class='input'># }

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Rok Češnovar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


